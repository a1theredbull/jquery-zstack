(function(e){e.fn.zStack=function(t){var n=e(this);n.opts=e.extend({},e.fn.zStack.defaults,t);n.each(function(t,r){r=e(r);r.css("z-index",n.opts.zStart+t);if(n.opts.trigger==="click"){r.click(function(){e.fn.zStack.moveToFront(r)});r.on("dragstart",function(){e.fn.zStack.moveToFront(r)})}else if(n.opts.trigger==="hover"){r.mouseover(function(){e.fn.zStack.moveToFront(r)})}});return this.data("zStack",n)};e.fn.zStack.moveToFront=function(t){var n=t.data("zStack");var r=t.css("z-index");t.css("z-index",n.opts.zStart+n.length);n.each(function(t,n){n=e(n);if(+n.css("z-index")!=r&&+n.css("z-index")>+r){n.css("z-index",+n.css("z-index")-1)}})};e.fn.zStack.defaults={trigger:"click",zStart:0}})(jQuery)